- id: 5d87c33d-0599-40f7-a1e2-eec7c4009d38
  alias: Person @ Cottage
  description: Webhook from Cottage that it detects a person
  trigger:
  - platform: webhook
    webhook_id: person-cottage-07AWg1-wLwAO0LLg8qR4Qmu_
  condition: []
  action:
    - alias: "Notify phone(s)"
      service: notify.message_dad
      data:
        message: "{{ trigger.json.message }}"
    - service: script.tts_say_person_cottage
  mode: single

- id: 7b24d93c-d092-48f9-838d-233746babc21
  alias: Presence The Ladies Alert Honitor
  description: Alert when we go places
  trace:
    stored_traces: 20
  use_blueprint:
    path: SirGoodenough/Person_Alert_Blueprint.yaml
    input:
      people2monitor:
      - person.julie
      - person.jen
      zone2monitor:
      - zone.home
      - zone.katy_s_kloset
      - zone.follicle_assembly_building
      - zone.feed_store
      - zone.nail_shop2
      - zone.belva
      - zone.clinic
      - zone.expo
      - zone.lakewood
      - zone.mountain
      - zone.shawano
      - zone.somerhome
      - zone.suring
      - zone.townsend
      - zone.rose_estate
      - zone.wisconsin_illinois_border
      enter_action:
      - parallel:
        - service: script.personalert_notify
          data:
            person: '{{ trigger.to_state.attributes.friendly_name }}'
            place_to: '{{ trigger.to_state.state }}'
            place_from: '{{ trigger.from_state.state }}'
            notify_id: '{{ trigger.to_state.context.id }}'
            phase: enter
        - service: script.personalert_audio
          data:
            mess: '{{ trigger.to_state.attributes.friendly_name + '' has arrived at
              '' + trigger.to_state.state }}'
            lang: en-GB
      leave_action:
      - parallel:
        - service: script.personalert_notify
          data:
            person: '{{ trigger.from_state.attributes.friendly_name }}'
            place_to: '{{ trigger.to_state.state }}'
            place_from: '{{ trigger.from_state.state }}'
            notify_id: '{{ trigger.from_state.context.id }}'
            phase: leave
        - service: script.personalert_audio
          data:
            mess: '{{ trigger.from_state.attributes.friendly_name + '' has left ''
              + trigger.from_state.state }}'
            lang: en-GB
      jump_action:
      - parallel:
        - service: script.personalert_notify
          data:
            person: '{{ trigger.to_state.attributes.friendly_name }}'
            place_to: '{{ trigger.to_state.state }}'
            place_from: '{{ trigger.from_state.state }}'
            notify_id: '{{ trigger.to_state.context.id }}'
            phase: jump
        - service: script.personalert_audio
          data:
            mess: '{{ trigger.to_state.attributes.friendly_name + '' has left '' +
              trigger.from_state.state + '' and is located at: '' + trigger.to_state.state
              }}'
            lang: en-GB
      enable_time: 05:30:18
      disable_time: '20:27:36'
      hold_period:
        hours: 0
        minutes: 5
        seconds: 0
  mode: single
  max_exceeded: silent

- id: 8dc284dc-7cef-4ee5-8045-da04bbf495f2
  alias: Presence Jim Alert Honitor
  description: Alert when Jim Goes places
  trace:
    stored_traces: 20
  use_blueprint:
    path: SirGoodenough/Person_Alert_Blueprint.yaml
    input:
      people2monitor:
      - person.jim
      zone2monitor:
      - zone.home
      - zone.katy_s_kloset
      - zone.feed_store
      - zone.belva
      - zone.clinic
      - zone.expo
      - zone.lakewood
      - zone.mountain
      - zone.shawano
      - zone.suring
      - zone.somerhome
      - zone.townsend
      - zone.rose_estate
      - zone.wisconsin_illinois_border
      enter_action:
      - parallel:
        - service: script.personalert_notify
          data:
            person: '{{ trigger.to_state.attributes.friendly_name }}'
            place_to: '{{ trigger.to_state.state }}'
            place_from: '{{ trigger.from_state.state }}'
            notify_id: '{{ trigger.to_state.context.id }}'
            phase: enter
        - service: script.personalert_audio
          data:
            entities: media_player.home_group
            mess: '{{ trigger.to_state.attributes.friendly_name + '' has arrived at
              '' + trigger.to_state.state }}'
            lang: en-CA
            gend: male
      leave_action:
      - parallel:
        - service: script.personalert_notify
          data:
            person: '{{ trigger.from_state.attributes.friendly_name }}'
            place_to: '{{ trigger.to_state.state }}'
            place_from: '{{ trigger.from_state.state }}'
            notify_id: '{{ trigger.from_state.context.id }}'
            phase: leave
        - service: script.personalert_audio
          data:
            entities: media_player.home_group
            mess: '{{ trigger.from_state.attributes.friendly_name + '' has left ''
              + trigger.from_state.state }}'
            lang: en-CA
            gend: male
      jump_action:
      - parallel:
        - service: script.personalert_notify
          data:
            person: '{{ trigger.to_state.attributes.friendly_name }}'
            place_to: '{{ trigger.to_state.state }}'
            place_from: '{{ trigger.from_state.state }}'
            notify_id: '{{ trigger.to_state.context.id }}'
            phase: jump
        - service: script.personalert_audio
          data:
            entities: media_player.home_group
            mess: '{{ trigger.to_state.attributes.friendly_name + '' has left '' +
              trigger.from_state.state + '' and is located at: '' + trigger.to_state.state
              }}'
            lang: en-CA
            gend: male
      enable_time: 05:29:13
      disable_time: 08:31:42
      hold_period:
        hours: 0
        minutes: 5
        seconds: 0
  mode: single
  max_exceeded: silent
