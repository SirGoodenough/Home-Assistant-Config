- sensor:
#####################################################
## 3D Printer Template Sensors                     ##
#####################################################
  - unique_id: octoprint_time_elapsed_format
    attributes:
      friendly_name: "Printing Time Elapsed"
    state: >-
      {% if (is_number('sensor.tarantula_time_elapsed')) %}
        "{{ states('sensor.tarantula_time_elapsed') | int | timestamp_custom('%H:%M:%S', 0) }}"
      {% else %} 
        "{{ 0 | timestamp_custom('%H:%M:%S', 0) }}"
      {% endif %}
  - unique_id: octoprint_time_remaining_format
    attributes:
      friendly_name: "Printing Time Remaining"
    state: >-
      {% if (is_number('sensor.tarantula_time_remaining')) %}
        "{{ states('sensor.tarantula_time_remaining') | int | timestamp_custom('%H:%M:%S', 0) }}"
      {% else %} 
        "{{ 0 | timestamp_custom('%H:%M:%S', 0) }}"
      {% endif %}

  - unique_id: octoprint_print_file_short
    state: "{{ states('sensor.octoprint_print_file') | replace('TEVOTPRO-','') }}"
    attributes:
      friendly_name: "3D Print File"

  - unique_id: octoprint_soc_temperature_in_c
    state: >-
      {% if (is_number('sensor.octoprint_soc_temperature')) %}
        '{{ "%.2f"|format((( states("sensor.octoprint_soc_temperature") | float ) -32) *5/9) }}'
      {% else %} 
        0.0
      {% endif %}
    attributes:
      friendly_name: "3D PI CPU"
    device_class: temperature
    unit_of_measurement: C
  - unique_id: octoprint_bed_target_in_c
    state: >-
      {% if (is_number('sensor.octoprint_bed_target')) %}
        '{{ "%.2f"|format((( states("sensor.octoprint_bed_target") | float ) -32) *5/9) }}'
      {% else %} 
        0.0
      {% endif %}
    attributes:
      friendly_name: "3D Bed Target"
    device_class: temperature
    unit_of_measurement: C
  - unique_id: octoprint_tool_0_temperature_in_c
    state: >-
      {% if (is_number('sensor.octoprint_tool_0_temperature')) %}
        '{{ "%.2f"|format((( states("sensor.octoprint_tool_0_temperature") | float ) -32) *5/9) }}'
      {% else %} 
        0.0
      {% endif %}
    attributes:
      friendly_name: "3D Extruder"
    device_class: temperature
    unit_of_measurement: C
  - unique_id: octoprint_bed_temperature_in_c
    state: >-
      {% if (is_number('sensor.octoprint_bed_temperature')) %}
        '{{ "%.2f"|format((( states("sensor.octoprint_bed_temperature") | float ) -32) *5/9) }}'
      {% else %} 
        0.0
      {% endif %}
    attributes:
      friendly_name: "3D Bed"
    device_class: temperature
    unit_of_measurement: C
  - unique_id: octoprint_tool_0_target_2_in_c
    state: >-
      {% if (is_number('sensor.octoprint_tool_0_target_2')) %}
        '{{ "%.2f"|format((( states("sensor.octoprint_tool_0_target_2") | float ) -32) *5/9) }}'
      {% else %} 
        0.0
      {% endif %}
    attributes:
      friendly_name: "3D Extruder Target"
    device_class: temperature
    unit_of_measurement: C

