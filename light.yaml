---
  - platform: switch
    name: "Jims Computer Light"
    entity_id: switch.jims_computer_light

  - platform: switch
    name: "Kitchen Down Lights"
    entity_id: switch.kitchen_d_lights

  - platform: switch
    name: "Office Track Jim Bulb"
    entity_id: switch.office_track_jim
 
  - platform: mqtt
    name: "Jens Night Light"
    unique_id: 5801636e-abf4-4720-8a5b-a4c97a46228f
    command_topic: "JensNeb/cmnd/power2"
    state_topic: "JensNeb/tele/STATE"
    state_value_template: >-
      {% if value_json.POWER2 == 'ON' %}
        ON
      {% else %}
        OFF
      {% endif %}
    payload_on: "ON"
    payload_off: "OFF"
    brightness_command_topic: "JensNeb/cmnd/Dimmer"
    brightness_state_topic: "JensNeb/tele/RESULT"
    brightness_scale: 100
    # brightness_value_template: "{{ value_json.Dimmer }}"
    brightness_value_template: >-
        {% if value_json.TuyaReceived is defined and value_json['TuyaReceived'].DpId == 108 %}
          {{ value_json['TuyaReceived'].Type3Data[12:14]|int(base=16) }}
        {% endif %}
    availability_topic: "JensNeb/tele/LWT"
    payload_available: "Online"
    payload_not_available: "Offline"
    qos: 1
    retain: false
    # color_value_template: 
    rgb_command_topic: "JensNeb/cmnd/tuyasend3"
    rgb_command_template: >-
        {% set brightness = state_attr('light.jensneb_light_mode','brightness') | int %}
          {{ '108,%02x%02x%02x646464' | format(red, green, blue)}}
          {{ '%02x' | format(brightness) }}
    rgb_value_template: >-
        {% if value_json.TuyaReceived is defined and value_json['TuyaReceived'].DpId == 108 %}
          {{ (value_json['TuyaReceived'].Type3Data[0:2]|int(base=16),
            value_json['TuyaReceived'].Type3Data[2:4]|int(base=16),
            value_json['TuyaReceived'].Type3Data[4:6]|int(base=16)) 
            | join(',')
          }}
        {% endif %}
    rgb_state_topic: "JensNeb/tele/RESULT"

  - platform: mqtt
    name: "Alarm Display"
    unique_id: e68bc3cb-e6fe-4c5f-9da4-06427296944e
    state_topic: "Bedroom_Fan/tele/STATE"
    command_topic: "Bedroom_Fan/cmnd/POWER1"
    availability_topic: "Bedroom_Fan/tele/LWT"
    payload_on: "ON"
    payload_off: "OFF"
    payload_available: "Online"
    payload_not_available: "Offline"

  - platform: group
    name: Main Lights
    unique_id: 3503acba-9956-4951-b651-6385024ba170
    entities:
      - light.cabinetlight
      - light.jens_light
      - light.jims_computer_light_2
      - light.mom_light
      - light.livingroomlight
      - light.kitchensink
      - light.kitchen_down_lights
      - light.b_porch_socket
      - light.fp_socket
      - light.stairway_light
      - light.counter_1
      - light.counter_2
      - light.kitch_fan_2
      - light.kitch_fan_3

  - platform: group
    name: Dad Lights
    unique_id: d6e23f4b-a9cf-4b11-bac4-77bfc9a5d82a
    entities:
      - light.jims_computer_light_2
      - light.cabinetlight
      - light.kitchen_down_lights
      - light.kitchensink

  - platform: group
    name: Food Center
    unique_id: 0a7413ea-ee9e-4cdb-95c7-cbefcff87e6f
    entities:
      - light.counter_1
      - light.counter_2
      - light.kitch_fan_2
      - light.kitch_fan_3

  - platform: group
    name: Jens Color
    unique_id: f55a37e1-0358-4295-843c-fe31143c83cc
    entities:
      - light.bulb1
      - light.jens_led_bed

  - platform: group
    name: D Lights
    unique_id: 9fa921ea-7795-46ba-a850-bf85113e5f4d
    entities:
      - light.cabinetlight
      - light.jims_computer_light_2

  - platform: group
    name: Mom Office
    unique_id: a449deed-b1d4-4186-81af-a6697ed9d201
    entities:
      - light.office_fan_light
      - light.plug3
