---
####################################################
# Tasmota Firsts Update                            #
#  These are the first devices to update when      #
#   a new version of Tasmota is available.  These  #
#   are the canarys in the coal mine sample.       #
####################################################
  tasmota_firsts_update:
    alias: Tasmota Firsts Update
    sequence:
    - service: mqtt.publish
      data:
        "topic": "firsts/cmnd/upgrade"
        "payload": 1
          # List of firsts GroupTopic:
          #  BenchStrip, Bulb1, Garageback_Light, Humidifer, 
          #  Jens_Neb, Office_Fan, Sonoff Bridge 1

####################################################
# Tasmota Update All                               #
####################################################
  tasmota_all_update:
    alias: Tasmota All Update
    sequence:
    - service: mqtt.publish
      data:
        "topic": "tasmotas/cmnd/upgrade"
        "payload": 1

####################################################
# Page DrZzs                                       #
####################################################
  page_drzzs:
    alias: Page DrZzs
    sequence:
    - service: webhook_service.basic_webhook
      data:
        webhook: !secret DrZzsPage
        json: '1'

#   just_say_no:
#     sequence:
#     - alias: "Turn off all the bed buttons"
#       repeat:
#         while:
#           - condition: state
#             entity_id: input_boolean.do_something
#             state: "on"
#           # Don't do it too many times
#           - condition: template
#             value_template: "{{ repeat.index <= 20 }}"
#         sequence:
#           - service: script.something

# {%- for state in states.input_boolean -%}
# {%- if state.state == "on" -%}
# {%- if 'bed_' in state.entity_id -%}
# {{ state.entity_id }} is {{ state.state }}
# {% endif -%}
# {% endif -%}
# {% endfor %}
