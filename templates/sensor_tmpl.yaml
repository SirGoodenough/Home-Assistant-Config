- sensor:
  - name: 'Tarantula Time Remaining:'
    unique_id: 8e34cb05-0ccc-4145-9486-f005e6d20935
    state: >
      {%- if states('sensor.octoprint_time_remaining_format') is defined -%}
        {% set time = as_timestamp(states('sensor.octoprint_time_remaining_format')) | int %}
      {%- else -%}
        {% set time = 0 | int %}
      {%- endif -%}
      {% set minutes = ((time % 3600) / 60) | int%}
      {% set hours = ((time % 86400) / 3600) | int %}
      {% set days = (time / 86400) | int %}
      {%- if time == 0 -%}
        {{ '0, Job Complete' }}
          {%- else -%}
          {%- if time < 60 -%}
          Less than a minute
          {%- else -%}
        {%- if days > 0 -%}
          {%- if days == 1 -%}
            1 day
          {%- else -%}
            {{ days }} days
          {%- endif -%}
        {%- endif -%}
        {%- if hours > 0 -%}
          {%- if days > 0 -%}
            {{ ', ' }}
          {%- endif -%}
          {%- if hours == 1 -%}
            1 hour
          {%- else -%}
            {{ hours }} hours
          {%- endif -%}
        {%- endif -%}
        {%- if minutes > 0 -%}
          {%- if days > 0 or hours > 0 -%}
            {{ ', ' }}
          {%- endif -%}
          {%- if minutes == 1 -%}
            1 minute
          {%- else -%}
            {{ minutes }} minutes
          {%- endif -%}
        {%- endif -%}
      {%- endif -%}
      {%- endif -%}

  - name: 'Tarantula Time Elapsed:'
    unique_id: a467aa7d-680c-40e9-8b8e-d576d6547eda
    state: >
      {%- if states('sensor.octoprint_time_elapsed_format') is defined -%}
        {% set time = as_timestamp(states('sensor.octoprint_time_elapsed_format')) | int %}
      {%- else -%}
        {% set time = 0 | int %}
      {%- endif -%}
      {% set minutes = ((time % 3600) / 60) | int%}
      {% set hours = ((time % 86400) / 3600) | int %}
      {% set days = (time / 86400) | int %}
      {%- if time == 0 -%}
        {{ '0, Job Complete' }}
          {%- else -%}
          {%- if time < 60 -%}
          Less than a minute
          {%- else -%}
        {%- if days > 0 -%}
          {%- if days == 1 -%}
            1 day
          {%- else -%}
            {{ days }} days
          {%- endif -%}
        {%- endif -%}
        {%- if hours > 0 -%}
          {%- if days > 0 -%}
            {{ ', ' }}
          {%- endif -%}
            {%- if hours == 1 -%}
              1 hour
            {%- else -%}
              {{ hours }} hours
            {%- endif -%}
          {%- endif -%}
          {%- if minutes > 0 -%}
            {%- if days > 0 or hours > 0 -%}
              {{ ', ' }}
            {%- endif -%}
            {%- if minutes == 1 -%}
              1 minute
            {%- else -%}
              {{ minutes }} minutes
            {%- endif -%}
          {%- endif -%}
        {%- endif -%}
        {%- endif -%}

  - name: LRthermostat
    unique_id: 1ca8aa2c-1fad-4c4b-99e7-4cf4dd91aa0b
    state: "{{ state_attr('climate.living_room_2', 'current_temperature') }}"
    unit_of_measurement: "°F"
    icon: "mdi:thermostat-box"

  - name: BRthermostat
    unique_id: 850df15c-a1fb-4832-a29e-18fcaf3d3b61
    state: "{{ state_attr('climate.gemodule5384', 'current_temperature') }}"
    unit_of_measurement: "°F"
    icon: "mdi:thermostat-box"

  - name: "Sun State"
    unique_id: f2ef3978-8f60-4f49-9ce5-1198306412fd
    state: > 
      {% if is_state('sun.sun', 'above_horizon') %}
        up
      {% else %}
        down
      {% endif %}

  - name: "LRthermostat Heat State"
    unique_id: c21b57a7-34df-483b-8521-4844a04fe49d
    state: "{{ state_attr('climate.living_room_2', 'hvac_action') }}"
    icon: "mdi:hvac"

  - name: "LRthermostat Fan Mode"
    unique_id: b281ed7b-7a2a-427d-b699-fba4370b6bd3
    state: "{{ state_attr('climate.living_room_2', 'fan_action') }}"
    icon: "mdi:fan-auto"

  - name: "LRthermostat Fan Mode"
    unique_id: 68b1ee25-944e-4b19-b1c6-a3d8a7c56756
    state: "{{ state_attr('climate.gemodule5384', 'hvac_action') }}"
    icon: "mdi:air-conditioner"
