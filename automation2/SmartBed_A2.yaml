---
  - id: 70f2d9fc-fab0-4603-87f9-ee3af597e0c7
    alias: SmartBed Voice Control
    initial_state: on
    mode: single
    max_exceeded: silent
    trigger:
      - platform: state
        entity_id: input_boolean.bed_down_6
        id: bed_down_6
        from: "off"
        to: "on"
      - platform: state
        entity_id: input_boolean.bed_up_6
        id: bed_up_6
        from: "off"
        to: "on"
      - platform: state
        entity_id: input_boolean.bed_flat
        id: bed_flat
        from: "off"
        to: "on"
      - platform: state
        entity_id: input_boolean.bed_restart
        id: bed_restart
        from: "off"
        to: "on"
      - platform: state
        entity_id: input_boolean.bed_sit
        id: bed_sit
        from: "off"
        to: "on"
      - platform: state
        entity_id: input_boolean.bed_foot_down_1
        id: bed_foot_down_1
        from: "off"
        to: "on"
      - platform: state
        entity_id: input_boolean.bed_foot_down_5
        id: bed_foot_down_5
        from: "off"
        to: "on"
      - platform: state
        entity_id: input_boolean.bed_foot_down_10
        id: bed_foot_down_10
        from: "off"
        to: "on"
      - platform: state
        entity_id: input_boolean.bed_foot_up_1
        id: bed_foot_up_1
        from: "off"
        to: "on"
      - platform: state
        entity_id: input_boolean.bed_foot_up_5
        id: bed_foot_up_5
        from: "off"
        to: "on"
      - platform: state
        entity_id: input_boolean.bed_foot_up_10
        id: bed_foot_up_10
        from: "off"
        to: "on"
      - platform: state
        entity_id: input_boolean.bed_head_down_1
        id: bed_head_down_1
        from: "off"
        to: "on"
      - platform: state
        entity_id: input_boolean.bed_head_down_5
        id: bed_head_down_5
        from: "off"
        to: "on"
      - platform: state
        entity_id: input_boolean.bed_head_down_10
        id: bed_head_down_10
        from: "off"
        to: "on"
      - platform: state
        entity_id: input_boolean.bed_head_up_1
        id: bed_head_up_1
        from: "off"
        to: "on"
      - platform: state
        entity_id: input_boolean.bed_head_up_5
        id: bed_head_up_5
        from: "off"
        to: "on"
      - platform: state
        entity_id: input_boolean.bed_head_up_10
        id: bed_head_up_10
        from: "off"
        to: "on"
    action:
      - alias: Turn off all the smartbed buttons
        service: script.smartbed_buttons_off
      - choose:
        - alias: bed_down_6 sent
          conditions:
          - condition: trigger
            id: bed_down_6
        - sequence:
          - alias: Send the bed_down_6 command
            service: shell_command.bed
            data:
              url: !secret SmartBed_URL
              cmnd: 'button/5?timeout=6'
        - alias: bed_up_6 sent
          conditions:
          - condition: trigger
            id: bed_up_6
          sequence:
          - alias: Send the bed_up_6 command
            service: shell_command.bed
            data:
              url: !secret SmartBed_URL
              cmnd: 'button/4?timeout=6'
        - alias: bed_flat sent
          conditions:
          - condition: trigger
            id: bed_flat
          sequence:
          - alias: Send the bed_flat command
            service: shell_command.bed
            data:
              url: !secret SmartBed_URL
              cmnd: 'button/8?timeout=20'
        - alias: bed_restart sent
          conditions:
          - condition: trigger
            id: bed_restart
          sequence:
          - alias: Send the bed_restart command
            service: shell_command.bed
            data:
              url: !secret SmartBed_URL
              cmnd: 'reboot'
        - alias: bed_sit sent
          conditions:
          - condition: trigger
            id: bed_sit
          sequence:
          - alias: Send the bed_sit command
            service: shell_command.bed
            data:
              url: !secret SmartBed_URL
              cmnd: 'button/6?timeout=15'
          - alias: delay to send the head up more
            delay: 00:00:16
          - alias: Send the head up more
            service: shell_command.bed
            data:
              url: !secret SmartBed_URL
              cmnd: 'button/0?timeout=6'
        - alias: bed_foot_down_1 sent
          conditions:
          - condition: trigger
            id: bed_foot_down_1
          sequence:
          - alias: Send the bed_foot_down_1 command
            service: shell_command.bed
            data:
              url: !secret SmartBed_URL
              cmnd: 'button/3?timeout=1'
        - alias: bed_foot_down_5 sent
          conditions:
          - condition: trigger
            id: bed_foot_down_5
          sequence:
          - alias: Send the bed_foot_down_5 command
            service: shell_command.bed
            data:
              url: !secret SmartBed_URL
              cmnd: 'button/3?timeout=5'
        - alias: bed_foot_down_10 sent
          conditions:
          - condition: trigger
            id: bed_foot_down_10
          sequence:
          - alias: Send the bed_foot_down_10 command
            service: shell_command.bed
            data:
              url: !secret SmartBed_URL
              cmnd: 'button/3?timeout=10'
        - alias: bed_foot_up_1 sent
          conditions:
          - condition: trigger
            id: bed_foot_up_1
          sequence:
          - alias: Send the bed_foot_up_1 command
            service: shell_command.bed
            data:
              url: !secret SmartBed_URL
              cmnd: 'button/1?timeout=1'
        - alias: bed_foot_up_5 sent
          conditions:
          - condition: trigger
            id: bed_foot_up_5
          sequence:
          - alias: Send the bed_foot_up_5 command
            service: shell_command.bed
            data:
              url: !secret SmartBed_URL
              cmnd: 'button/1?timeout=5'
        - alias: bed_foot_up_10 sent
          conditions:
          - condition: trigger
            id: bed_foot_up_10
          sequence:
          - alias: Send the bed_foot_up_10 command
            service: shell_command.bed
            data:
              url: !secret SmartBed_URL
              cmnd: 'button/1?timeout=10'
        - alias: bed_head_down_1 sent
          conditions:
          - condition: trigger
            id: bed_head_down_1
          sequence:
          - alias: Send the bed_head_down_1 command
            service: shell_command.bed
            data:
              url: !secret SmartBed_URL
              cmnd: 'button/2?timeout=1'
        - alias: bed_head_down_5 sent
          conditions:
          - condition: trigger
            id: bed_head_down_5
          sequence:
          - alias: Send the bed_head_down_5 command
            service: shell_command.bed
            data:
              url: !secret SmartBed_URL
              cmnd: 'button/2?timeout=5'
        - alias: bed_head_down_10 sent
          conditions:
          - condition: trigger
            id: bed_head_down_10
          sequence:
          - alias: Send the bed_head_down_10 command
            service: shell_command.bed
            data:
              url: !secret SmartBed_URL
              cmnd: 'button/2?timeout=10'
        - alias: bed_head_up_1 sent
          conditions:
          - condition: trigger
            id: bed_head_up_1
          sequence:
          - alias: Send the bed_head_up_1 command
            service: shell_command.bed
            data:
              url: !secret SmartBed_URL
              cmnd: 'button/0?timeout=1'
        - alias: bed_head_up_5 sent
          conditions:
          - condition: trigger
            id: bed_head_up_5
          sequence:
          - alias: Send the bed_head_up_5 command
            service: shell_command.bed
            data:
              url: !secret SmartBed_URL
              cmnd: 'button/0?timeout=5'
        - alias: bed_head_up_10 sent
          conditions:
          - condition: trigger
            id: bed_head_up_10
          sequence:
          - alias: Send the bed_head_up_10 command
            service: shell_command.bed
            data:
              url: !secret SmartBed_URL
              cmnd: 'button/0?timeout=10'
